---
title: "Refactor Framer Motion For Smaller Bundles"
shortDescription: "How to refactor framer-motion out of a project"
longDescription: "How I use Framer Motion to prototype and then refactor the code to use pure css."
date: "2021-10-10"
readTime: 15
cloudinaryImgPath: "v1633887477/blog/blog/refactoring-framer-motion/the-creative-exchange-d2zvqp3fpro-unsplash-og-image_pj8rag.jpg"
imgWidth: 1200
imgHeight: 627
imgAlt: "Flowers on a table"
tags:
  - 'framer-motion'
  - 'refactor'
  - 'css'
  - 'prototyping'
  - 'styled-components'
  - 'React'
  - 'Typescript'
---

## Framer Motion Advantages

I love [Framer Motion](https://www.framer.com/docs/). It is an easy to use, flexible, and very powerful
animations library. It's performance is quite good as well. Putting together semi-complex animations in
which multiple elements animate based on the states of each other is very easy to do with Framer Motion.
We can use React features like *onMouseEnter()/onMouseLeave()* and *onFocus()/onBlur()* combined with
*useState()* or *useEffect()* hooks to trigger our animations and create really nice hover and focus
animations that are easily orchestrated.


## Framer Motion Disadvantages

There are 2 primary downsides to using Framer Motion in this way. First, we are re-rendering the
component every time we hover or focus on it. Second, there is a price to pay in bundle size. Framer
Motion will add at minimum 23.4k to any page that imports it. The Framer Motion documentation claims that
we can reduce our initial bundle size to under 5kb in the [documentation about
LazyMotion](https://www.framer.com/docs/lazy-motion/). However in practice the bundle size of a page that
uses even the bare minimum of features is 23.4k gzipped, so if we want animation on our main index/home
page the user is going to have to load all of that.  Often in practice using it actually adds that 23.4k
to the bundles of every page in our app if we end up wrapping the whole app in the Lazy Motion component.

## Using Framer Motion Optimally

Knowing the advantages and disadvantages that come with a library like Framer Motion I am going to show
you how I use it as a prototyping tool when building a web page.  More specifically I am going to show
you how I re-factored a component with a semi-complex animation to use only css to get a staggered
animation effect.  I will start by creating some elements and animating them using framer motion to get
off the ground quickly. This gives me the advantage of being able to easily tweak, play around with, and
fine tune various animation options until I settle on something that feels good.



